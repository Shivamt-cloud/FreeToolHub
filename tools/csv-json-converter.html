<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>CSV to JSON Converter - FreeToolHub</title>
    <meta name="description" content="Convert between CSV and JSON formats with bi-directional conversion, data preview, and format validation. 100% free, secure, and client-side processing.">
    <meta property="og:title" content="CSV to JSON Converter - FreeToolHub">
    <meta property="og:description" content="Convert between CSV and JSON formats with bi-directional conversion, data preview, and format validation">
    <meta property="og:url" content="https://freetoolhub.in/tools/csv-json-converter.html">
    <meta property="og:type" content="website">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">
    <!-- Header Container -->
    <div id="app-header"></div>
    
    <!-- Main Content -->
    <main class="min-h-screen pb-16" style="padding-top: 6rem;">
        <style>
            @media (min-width: 1024px) {
                main {
                    padding-top: 8.5rem !important;
                }
            }
        </style>
        <div class="max-w-7xl mx-auto px-6 py-8">
            <!-- Page Header with Share -->
            <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-8">
                <div>
                    <h1 class="text-4xl md:text-5xl font-bold text-gray-800 mb-2">üìä CSV to JSON Converter</h1>
                    <p class="text-gray-600 text-lg">Convert between CSV and JSON formats with bi-directional conversion, data preview, and format validation</p>
                </div>
                <button onclick="shareTool()" class="mt-4 md:mt-0 bg-gradient-to-r from-orange-500 to-amber-600 text-white px-6 py-3 rounded-lg hover:from-orange-600 hover:to-amber-700 transition-all duration-300 flex items-center gap-2 shadow-lg">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.885 12.938 9 12.482 9 12c0-.482-.115-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"></path>
                    </svg>
                    Share Tool
                </button>
            </div>
            
            <!-- Breadcrumbs -->
            <nav class="mb-6 text-sm">
                <a href="/" class="text-blue-600 hover:text-blue-800">Home</a>
                <span class="mx-2 text-gray-400">/</span>
                <a href="/#tools" class="text-blue-600 hover:text-blue-800">Tools</a>
                <span class="mx-2 text-gray-400">/</span>
                <span class="text-gray-600">CSV to JSON Converter</span>
            </nav>
            
            <!-- Tool Interface -->
            <div class="bg-white rounded-2xl shadow-xl p-6 md:p-8">
                <!-- Privacy Notice -->
                <div class="bg-orange-50 border-l-4 border-orange-500 p-4 mb-6 rounded">
                    <div class="flex items-start">
                        <span class="text-2xl mr-3">üîí</span>
                        <div>
                            <p class="font-semibold text-orange-800 mb-1">100% Private & Secure</p>
                            <p class="text-sm text-orange-700">All processing happens locally in your browser. Your data never leaves your device!</p>
                        </div>
                    </div>
                </div>

                <!-- Conversion Direction Selector -->
                <div class="mb-6">
                    <label class="block text-lg font-semibold text-gray-700 mb-3">Select Conversion Direction</label>
                    <div class="grid grid-cols-2 gap-4">
                        <label class="border-2 border-orange-300 rounded-xl p-4 cursor-pointer hover:bg-orange-50 transition-all text-center bg-orange-50">
                            <input type="radio" name="csv-json-direction" value="csv-to-json" checked class="mb-2" onchange="updateCsvJsonDirection('csv-to-json')">
                            <div class="text-3xl mb-2">üìÑ ‚Üí üìã</div>
                            <div class="font-semibold">CSV to JSON</div>
                            <div class="text-xs text-gray-600 mt-1">Convert CSV data to JSON format</div>
                        </label>
                        <label class="border-2 border-gray-300 rounded-xl p-4 cursor-pointer hover:bg-orange-50 transition-all text-center">
                            <input type="radio" name="csv-json-direction" value="json-to-csv" class="mb-2" onchange="updateCsvJsonDirection('json-to-csv')">
                            <div class="text-3xl mb-2">üìã ‚Üí üìÑ</div>
                            <div class="font-semibold">JSON to CSV</div>
                            <div class="text-xs text-gray-600 mt-1">Convert JSON data to CSV format</div>
                        </label>
                    </div>
                </div>

                <!-- Input Section -->
                <div class="mb-6">
                    <div class="flex items-center justify-between mb-3">
                        <label class="block text-lg font-semibold text-gray-700">
                            <span class="text-orange-600">Step 1:</span> <span id="csv-json-input-label">Input CSV Data</span>
                        </label>
                        <div class="flex gap-2">
                            <label class="bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg cursor-pointer text-sm font-semibold transition-all">
                                üìÅ Upload File
                                <input type="file" id="csv-json-file-input" accept=".csv,.json,.txt" class="hidden">
                            </label>
                            <button onclick="clearCsvJsonInput()" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-all">
                                üóëÔ∏è Clear
                            </button>
                        </div>
                    </div>
                    <textarea id="csv-json-input" rows="10" placeholder="Paste your CSV data here...&#10;&#10;Example:&#10;Name,Age,City&#10;John,30,New York&#10;Jane,25,Los Angeles" class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-orange-500 focus:border-transparent font-mono text-sm"></textarea>
                    <div class="flex items-center justify-between mt-2">
                        <p class="text-xs text-gray-500">
                            <span id="csv-json-input-chars">0</span> characters
                        </p>
                        <button onclick="pasteSampleData()" class="text-orange-600 hover:text-orange-700 text-xs font-semibold">
                            üìã Use Sample Data
                        </button>
                    </div>
                </div>

                <!-- Settings Section (for CSV to JSON) -->
                <div id="csv-json-settings-csv" class="mb-6">
                    <label class="block text-lg font-semibold text-gray-700 mb-3">
                        <span class="text-orange-600">Step 2:</span> CSV Settings
                    </label>
                    <div class="grid grid-cols-3 gap-4">
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Delimiter</label>
                            <select id="csv-delimiter" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500">
                                <option value="auto">Auto-detect</option>
                                <option value=",">Comma (,)</option>
                                <option value=";">Semicolon (;)</option>
                                <option value="\t">Tab</option>
                                <option value="|">Pipe (|)</option>
                            </select>
                        </div>
                        <div>
                            <label class="flex items-center text-sm font-semibold text-gray-700 mb-2">
                                <input type="checkbox" id="csv-has-header" checked class="mr-2">
                                First row is header
                            </label>
                            <p class="text-xs text-gray-500">Check if first row contains column names</p>
                        </div>
                        <div>
                            <label class="flex items-center text-sm font-semibold text-gray-700 mb-2">
                                <input type="checkbox" id="json-pretty-print" checked class="mr-2">
                                Pretty print JSON
                            </label>
                            <p class="text-xs text-gray-500">Format JSON with indentation</p>
                        </div>
                    </div>
                </div>

                <!-- Settings Section (for JSON to CSV) -->
                <div id="csv-json-settings-json" class="hidden mb-6">
                    <label class="block text-lg font-semibold text-gray-700 mb-3">
                        <span class="text-orange-600">Step 2:</span> CSV Output Settings
                    </label>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">CSV Delimiter</label>
                            <select id="csv-output-delimiter" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500">
                                <option value=",">Comma (,)</option>
                                <option value=";">Semicolon (;)</option>
                                <option value="\t">Tab</option>
                                <option value="|">Pipe (|)</option>
                            </select>
                        </div>
                        <div>
                            <label class="flex items-center text-sm font-semibold text-gray-700 mb-2">
                                <input type="checkbox" id="csv-include-header" checked class="mr-2">
                                Include header row
                            </label>
                            <p class="text-xs text-gray-500">Add column names as first row</p>
                        </div>
                    </div>
                </div>

                <!-- Convert Button -->
                <div class="mb-6">
                    <button onclick="convertCsvJson()" class="w-full bg-gradient-to-r from-orange-500 to-amber-600 text-white font-bold py-4 px-6 rounded-xl hover:from-orange-600 hover:to-amber-700 transition-all duration-300 transform hover:scale-105 shadow-lg text-lg">
                        üîÑ <span id="csv-json-convert-btn-text">Convert to JSON</span>
                    </button>
                </div>

                <!-- Output Section -->
                <div id="csv-json-output-section" class="hidden mb-6">
                    <div class="flex items-center justify-between mb-3">
                        <label class="block text-lg font-semibold text-gray-700">
                            <span class="text-orange-600">Step 3:</span> <span id="csv-json-output-label">Output JSON</span>
                        </label>
                        <div class="flex gap-2">
                            <button onclick="copyToClipboardCsvJson()" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-all">
                                üìã Copy to Clipboard
                            </button>
                            <button onclick="downloadCsvJsonOutput()" class="bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-all">
                                üì• Download
                            </button>
                        </div>
                    </div>
                    <textarea id="csv-json-output" rows="12" readonly class="w-full border border-gray-300 rounded-lg px-4 py-3 bg-gray-50 font-mono text-sm"></textarea>
                    <div class="flex items-center justify-between mt-2">
                        <p class="text-xs text-gray-500">
                            <span id="csv-json-output-chars">0</span> characters ‚Ä¢ 
                            <span id="csv-json-output-lines">0</span> lines
                        </p>
                        <p class="text-xs text-green-600 font-semibold" id="csv-json-success-msg"></p>
                    </div>
                </div>

                <!-- Preview Table (for validation) -->
                <div id="csv-json-preview-section" class="hidden mb-6">
                    <label class="block text-lg font-semibold text-gray-700 mb-3">Data Preview</label>
                    <div class="overflow-x-auto max-h-64 border border-gray-300 rounded-lg">
                        <table id="csv-json-preview-table" class="min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50 sticky top-0">
                                <tr id="csv-json-preview-header"></tr>
                            </thead>
                            <tbody id="csv-json-preview-body" class="bg-white divide-y divide-gray-200"></tbody>
                        </table>
                    </div>
                    <p class="text-xs text-gray-500 mt-2 text-center">
                        Showing first 10 rows
                    </p>
                </div>

                <!-- Error Message -->
                <div id="csv-json-error" class="hidden mb-6">
                    <div class="bg-red-50 border-2 border-red-500 rounded-xl p-4">
                        <div class="flex items-start gap-3">
                            <span class="text-3xl">‚ö†Ô∏è</span>
                            <div>
                                <h4 class="text-lg font-bold text-red-800 mb-1">Error</h4>
                                <p id="csv-json-error-message" class="text-red-700"></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Detailed Description Section -->
            <div class="mt-12 bg-white rounded-2xl shadow-xl p-6 md:p-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-6">Understanding CSV to JSON Conversion</h2>
                <div class="prose max-w-none text-gray-700 leading-relaxed">
                    <p class="mb-4">
                        CSV to JSON conversion transforms comma-separated values (CSV) files into JavaScript Object Notation (JSON) format, enabling data to be used in web applications, APIs, and modern data processing systems. Our CSV to JSON converter handles various CSV formats, automatically detects delimiters, and converts data into well-structured JSON arrays or objects. Whether you're working with spreadsheet data, importing data into web applications, or preparing data for APIs, this tool provides a simple and efficient conversion solution.
                    </p>
                    <p class="mb-4">
                        CSV files are commonly used for data storage and exchange, but JSON is the preferred format for web applications and APIs. Converting CSV to JSON allows you to work with data in modern JavaScript applications, send data to REST APIs, store configuration data, or integrate spreadsheet data into web projects. The converter intelligently handles CSV headers, different delimiters (comma, semicolon, tab), and converts rows into JSON objects with proper key-value pairs.
                    </p>
                    <p class="mb-4">
                        All conversion happens locally in your browser, ensuring complete privacy and security. Your data never leaves your device, and no files are uploaded to any server. This client-side processing means even sensitive data can be converted safely. The tool provides instant conversion results and supports various JSON output formats including arrays of objects, nested structures, and custom formatting options.
                    </p>
                </div>
            </div>
            
            <!-- How to Use Section -->
            <div class="mt-8 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl shadow-xl p-6 md:p-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-6">üìñ How to Use the CSV to JSON Converter</h2>
                <div class="space-y-6">
                    <div class="bg-white rounded-xl p-6">
                        <h3 class="text-xl font-bold text-gray-800 mb-3 flex items-center gap-2">
                            <span class="text-2xl">1Ô∏è‚É£</span> Input CSV Data
                        </h3>
                        <p class="text-gray-700 leading-relaxed">
                            Paste your CSV data into the input area or upload a CSV file. The tool automatically detects headers (first row) and uses them as JSON keys. You can also paste CSV data directly from Excel, Google Sheets, or any CSV source.
                        </p>
                    </div>
                    
                    <div class="bg-white rounded-xl p-6">
                        <h3 class="text-xl font-bold text-gray-800 mb-3 flex items-center gap-2">
                            <span class="text-2xl">2Ô∏è‚É£</span> Configure Options (Optional)
                        </h3>
                        <p class="text-gray-700 leading-relaxed mb-3">
                            Adjust conversion settings if needed:
                        </p>
                        <ul class="list-disc list-inside text-gray-700 space-y-1 ml-4">
                            <li><strong>Delimiter:</strong> Comma, semicolon, or tab (auto-detected)</li>
                            <li><strong>Header Row:</strong> Use first row as keys or ignore</li>
                            <li><strong>Output Format:</strong> Array of objects or nested structure</li>
                            <li><strong>JSON Formatting:</strong> Minified or pretty-printed</li>
                        </ul>
                    </div>
                    
                    <div class="bg-white rounded-xl p-6">
                        <h3 class="text-xl font-bold text-gray-800 mb-3 flex items-center gap-2">
                            <span class="text-2xl">3Ô∏è‚É£</span> Convert and Copy
                        </h3>
                        <p class="text-gray-700 leading-relaxed">
                            Click "Convert to JSON" to process your CSV data. The tool instantly converts all rows into JSON format. Copy the resulting JSON to use in your applications, APIs, or download as a JSON file. The conversion maintains data integrity and structure.
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- Examples & Use Cases -->
            <div class="mt-8 bg-white rounded-2xl shadow-xl p-6 md:p-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-6">üí° Examples & Use Cases</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="border-l-4 border-blue-500 pl-4">
                        <h3 class="text-xl font-bold text-gray-800 mb-2">API Integration</h3>
                        <p class="text-gray-700 mb-2">Convert spreadsheet data to JSON for API requests. Transform CSV exports from databases or Excel into JSON format compatible with REST APIs.</p>
                    </div>
                    
                    <div class="border-l-4 border-green-500 pl-4">
                        <h3 class="text-xl font-bold text-gray-800 mb-2">Web Development</h3>
                        <p class="text-gray-700 mb-2">Import CSV data into web applications. Convert Excel/Google Sheets exports to JSON for use in React, Vue, Angular, or vanilla JavaScript apps.</p>
                    </div>
                    
                    <div class="border-l-4 border-purple-500 pl-4">
                        <h3 class="text-xl font-bold text-gray-800 mb-2">Data Migration</h3>
                        <p class="text-gray-700 mb-2">Migrate data between systems. Convert CSV exports from old systems into JSON format for modern database imports or application integration.</p>
                    </div>
                    
                    <div class="border-l-4 border-orange-500 pl-4">
                        <h3 class="text-xl font-bold text-gray-800 mb-2">Configuration Files</h3>
                        <p class="text-gray-700 mb-2">Convert configuration data from CSV to JSON. Transform spreadsheet-based configurations into JSON format for application configuration files.</p>
                    </div>
                    
                    <div class="border-l-4 border-teal-500 pl-4">
                        <h3 class="text-xl font-bold text-gray-800 mb-2">Data Analysis</h3>
                        <p class="text-gray-700 mb-2">Convert CSV data for JavaScript analysis tools. Transform CSV exports into JSON for use with data visualization libraries like D3.js or Chart.js.</p>
                    </div>
                    
                    <div class="border-l-4 border-pink-500 pl-4">
                        <h3 class="text-xl font-bold text-gray-800 mb-2">Testing & Development</h3>
                        <p class="text-gray-700 mb-2">Create JSON test data from CSV files. Convert spreadsheet test cases or sample data into JSON format for automated testing or development mockups.</p>
                    </div>
                </div>
            </div>
            
            <!-- FAQ Section -->
            <div class="mt-8 bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl shadow-xl p-6 md:p-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-6">‚ùì Frequently Asked Questions</h2>
                <div class="space-y-6">
                    <div class="bg-white rounded-xl p-6">
                        <h3 class="text-xl font-bold text-gray-800 mb-3">Does the converter handle CSV headers automatically?</h3>
                        <p class="text-gray-700 leading-relaxed">
                            Yes, the tool automatically detects the first row as headers and uses them as JSON object keys. If your CSV doesn't have headers, you can configure the tool to use column indices or custom keys. Headers improve JSON structure by providing meaningful property names.
                        </p>
                    </div>
                    
                    <div class="bg-white rounded-xl p-6">
                        <h3 class="text-xl font-bold text-gray-800 mb-3">What if my CSV uses a different delimiter?</h3>
                        <p class="text-gray-700 leading-relaxed">
                            The converter can handle commas, semicolons, and tabs. It usually auto-detects the delimiter, but you can manually specify it if needed. European CSV files often use semicolons instead of commas, and the tool handles both formats correctly.
                        </p>
                    </div>
                    
                    <div class="bg-white rounded-xl p-6">
                        <h3 class="text-xl font-bold text-gray-800 mb-3">Can I convert large CSV files?</h3>
                        <p class="text-gray-700 leading-relaxed">
                            File size limits depend on your device's memory since all processing happens locally. You can typically convert CSV files with thousands of rows without issues. Very large files (millions of rows) may require more memory or processing time. For very large files, consider processing in chunks or using server-side tools.
                        </p>
                    </div>
                    
                    <div class="bg-white rounded-xl p-6">
                        <h3 class="text-xl font-bold text-gray-800 mb-3">How does it handle special characters or commas in data?</h3>
                        <p class="text-gray-700 leading-relaxed">
                            The converter properly handles CSV files that use quotes to escape special characters, commas within quoted fields, and newlines in data. Standard CSV escaping rules are followed, ensuring data integrity even with complex CSV files containing special characters or formatted text.
                        </p>
                    </div>
                    
                    <div class="bg-white rounded-xl p-6">
                        <h3 class="text-xl font-bold text-gray-800 mb-3">Is my data safe during conversion?</h3>
                        <p class="text-gray-700 leading-relaxed">
                            Absolutely! All conversion happens entirely in your browser. Your CSV data never leaves your device, is not uploaded to any server, and is not stored anywhere. Your privacy and security are completely protected throughout the conversion process.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer Container -->
    <div id="app-footer"></div>

    <!-- Load Header and Footer -->
    <script src="/js/components/HeaderLoader.js"></script>
    <script src="/js/components/FooterLoader.js"></script>
    <script src="/js/components/ShareButton.js"></script>
    
    <script>
        // CSV to JSON Converter Functions
        function updateCsvJsonDirection(direction) {
            const inputLabel = document.getElementById('csv-json-input-label');
            const outputLabel = document.getElementById('csv-json-output-label');
            const convertBtnText = document.getElementById('csv-json-convert-btn-text');
            const settingsCsv = document.getElementById('csv-json-settings-csv');
            const settingsJson = document.getElementById('csv-json-settings-json');
            const textInput = document.getElementById('csv-json-input');

            if (direction === 'csv-to-json') {
                inputLabel.textContent = 'Input CSV Data';
                outputLabel.textContent = 'Output JSON';
                convertBtnText.textContent = 'Convert to JSON';
                settingsCsv.classList.remove('hidden');
                settingsJson.classList.add('hidden');
                textInput.placeholder = 'Paste your CSV data here...\n\nExample:\nName,Age,City\nJohn,30,New York\nJane,25,Los Angeles';
            } else {
                inputLabel.textContent = 'Input JSON Data';
                outputLabel.textContent = 'Output CSV';
                convertBtnText.textContent = 'Convert to CSV';
                settingsCsv.classList.add('hidden');
                settingsJson.classList.remove('hidden');
                textInput.placeholder = 'Paste your JSON data here...\n\nExample:\n[\n  {"Name":"John","Age":30,"City":"New York"},\n  {"Name":"Jane","Age":25,"City":"Los Angeles"}\n]';
            }

            // Update direction card borders
            document.querySelectorAll('input[name="csv-json-direction"]').forEach((radio) => {
                const label = radio.parentElement;
                if (radio.checked) {
                    label.classList.remove('border-gray-300');
                    label.classList.add('border-orange-300', 'bg-orange-50');
                } else {
                    label.classList.remove('border-orange-300', 'bg-orange-50');
                    label.classList.add('border-gray-300');
                }
            });

            // Clear output and errors
            document.getElementById('csv-json-output-section').classList.add('hidden');
            document.getElementById('csv-json-preview-section').classList.add('hidden');
            document.getElementById('csv-json-error').classList.add('hidden');
        }

        function handleCsvJsonFileUpload(file) {
            const reader = new FileReader();
            reader.onload = (e) => {
                document.getElementById('csv-json-input').value = e.target.result;
                document.getElementById('csv-json-input-chars').textContent = e.target.result.length;
            };
            reader.readAsText(file);
        }

        function clearCsvJsonInput() {
            document.getElementById('csv-json-input').value = '';
            document.getElementById('csv-json-input-chars').textContent = '0';
            document.getElementById('csv-json-file-input').value = '';
            document.getElementById('csv-json-output-section').classList.add('hidden');
            document.getElementById('csv-json-preview-section').classList.add('hidden');
            document.getElementById('csv-json-error').classList.add('hidden');
        }

        function pasteSampleData() {
            const direction = document.querySelector('input[name="csv-json-direction"]:checked').value;
            
            if (direction === 'csv-to-json') {
                const sampleCSV = `Name,Age,City,Country
John Doe,30,New York,USA
Jane Smith,25,Los Angeles,USA
Bob Johnson,35,Chicago,USA
Alice Williams,28,Houston,USA
Charlie Brown,42,Phoenix,USA`;
                document.getElementById('csv-json-input').value = sampleCSV;
                document.getElementById('csv-json-input-chars').textContent = sampleCSV.length;
            } else {
                const sampleJSON = `[
  {
    "Name": "John Doe",
    "Age": 30,
    "City": "New York",
    "Country": "USA"
  },
  {
    "Name": "Jane Smith",
    "Age": 25,
    "City": "Los Angeles",
    "Country": "USA"
  },
  {
    "Name": "Bob Johnson",
    "Age": 35,
    "City": "Chicago",
    "Country": "USA"
  }
]`;
                document.getElementById('csv-json-input').value = sampleJSON;
                document.getElementById('csv-json-input-chars').textContent = sampleJSON.length;
            }
        }

        function detectDelimiter(csvText) {
            const firstLine = csvText.split('\n')[0];
            const delimiters = [',', ';', '\t', '|'];
            let maxCount = 0;
            let detectedDelimiter = ',';

            delimiters.forEach(delimiter => {
                const count = firstLine.split(delimiter).length;
                if (count > maxCount) {
                    maxCount = count;
                    detectedDelimiter = delimiter;
                }
            });

            return detectedDelimiter;
        }

        function parseCSV(csvText, delimiter, hasHeader) {
            const lines = csvText.trim().split('\n');
            const result = [];
            
            if (lines.length === 0) return result;

            // Handle delimiter
            if (delimiter === 'auto') {
                delimiter = detectDelimiter(csvText);
            }

            // Parse header
            const headers = lines[0].split(delimiter).map(h => h.trim().replace(/^"|"$/g, ''));
            const startLine = hasHeader ? 1 : 0;

            // Parse data rows
            for (let i = startLine; i < lines.length; i++) {
                if (!lines[i].trim()) continue;
                
                const values = lines[i].split(delimiter).map(v => v.trim().replace(/^"|"$/g, ''));
                const row = {};
                
                for (let j = 0; j < values.length; j++) {
                    const key = hasHeader ? headers[j] : `Column${j + 1}`;
                    let value = values[j];
                    
                    // Try to convert to number if possible
                    if (value && !isNaN(value)) {
                        value = Number(value);
                    }
                    
                    row[key] = value;
                }
                
                result.push(row);
            }

            return result;
        }

        function jsonToCSV(jsonData, delimiter, includeHeader) {
            if (!Array.isArray(jsonData) || jsonData.length === 0) {
                throw new Error('JSON must be an array of objects');
            }

            // Get all unique keys from all objects
            const allKeys = new Set();
            jsonData.forEach(obj => {
                Object.keys(obj).forEach(key => allKeys.add(key));
            });
            const headers = Array.from(allKeys);

            const rows = [];

            // Add header row
            if (includeHeader) {
                rows.push(headers.join(delimiter));
            }

            // Add data rows
            jsonData.forEach(obj => {
                const values = headers.map(header => {
                    let value = obj[header];
                    if (value === undefined || value === null) value = '';
                    // Escape values containing delimiter or quotes
                    value = String(value);
                    if (value.includes(delimiter) || value.includes('"') || value.includes('\n')) {
                        value = '"' + value.replace(/"/g, '""') + '"';
                    }
                    return value;
                });
                rows.push(values.join(delimiter));
            });

            return rows.join('\n');
        }

        function convertCsvJson() {
            const direction = document.querySelector('input[name="csv-json-direction"]:checked').value;
            const inputText = document.getElementById('csv-json-input').value.trim();

            // Hide previous results and errors
            document.getElementById('csv-json-output-section').classList.add('hidden');
            document.getElementById('csv-json-preview-section').classList.add('hidden');
            document.getElementById('csv-json-error').classList.add('hidden');

            if (!inputText) {
                showCsvJsonError('Please enter some data to convert.');
                return;
            }

            try {
                if (direction === 'csv-to-json') {
                    // CSV to JSON conversion
                    const delimiter = document.getElementById('csv-delimiter').value;
                    const hasHeader = document.getElementById('csv-has-header').checked;
                    const prettyPrint = document.getElementById('json-pretty-print').checked;

                    const jsonData = parseCSV(inputText, delimiter, hasHeader);
                    const jsonOutput = prettyPrint ? JSON.stringify(jsonData, null, 2) : JSON.stringify(jsonData);

                    // Display output
                    document.getElementById('csv-json-output').value = jsonOutput;
                    document.getElementById('csv-json-output-chars').textContent = jsonOutput.length;
                    document.getElementById('csv-json-output-lines').textContent = jsonOutput.split('\n').length;
                    document.getElementById('csv-json-success-msg').textContent = `‚úì Converted ${jsonData.length} rows to JSON`;
                    document.getElementById('csv-json-output-section').classList.remove('hidden');

                    // Display preview table
                    displayPreviewTable(jsonData);

                } else {
                    // JSON to CSV conversion
                    const outputDelimiter = document.getElementById('csv-output-delimiter').value;
                    const includeHeader = document.getElementById('csv-include-header').checked;

                    const jsonData = JSON.parse(inputText);
                    const csvOutput = jsonToCSV(jsonData, outputDelimiter, includeHeader);

                    // Display output
                    document.getElementById('csv-json-output').value = csvOutput;
                    document.getElementById('csv-json-output-chars').textContent = csvOutput.length;
                    document.getElementById('csv-json-output-lines').textContent = csvOutput.split('\n').length;
                    document.getElementById('csv-json-success-msg').textContent = `‚úì Converted ${jsonData.length} rows to CSV`;
                    document.getElementById('csv-json-output-section').classList.remove('hidden');

                    // Display preview table
                    displayPreviewTable(jsonData);
                }

            } catch (error) {
                console.error('Conversion error:', error);
                showCsvJsonError('Conversion failed: ' + error.message);
            }
        }

        function displayPreviewTable(data) {
            if (!Array.isArray(data) || data.length === 0) return;

            const previewSection = document.getElementById('csv-json-preview-section');
            const headerRow = document.getElementById('csv-json-preview-header');
            const bodyTable = document.getElementById('csv-json-preview-body');

            // Clear previous content
            headerRow.innerHTML = '';
            bodyTable.innerHTML = '';

            // Get headers from first object
            const headers = Object.keys(data[0]);

            // Create header
            headers.forEach(header => {
                const th = document.createElement('th');
                th.className = 'px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider';
                th.textContent = header;
                headerRow.appendChild(th);
            });

            // Create rows (max 10)
            const maxRows = Math.min(data.length, 10);
            for (let i = 0; i < maxRows; i++) {
                const tr = document.createElement('tr');
                headers.forEach(header => {
                    const td = document.createElement('td');
                    td.className = 'px-4 py-2 text-sm text-gray-900 whitespace-nowrap';
                    td.textContent = data[i][header] !== undefined ? data[i][header] : '';
                    tr.appendChild(td);
                });
                bodyTable.appendChild(tr);
            }

            previewSection.classList.remove('hidden');
        }

        function copyToClipboardCsvJson() {
            const output = document.getElementById('csv-json-output').value;
            
            navigator.clipboard.writeText(output).then(() => {
                const successMsg = document.getElementById('csv-json-success-msg');
                const originalText = successMsg.textContent;
                successMsg.textContent = '‚úì Copied to clipboard!';
                setTimeout(() => {
                    successMsg.textContent = originalText;
                }, 2000);
            }).catch(err => {
                alert('Failed to copy to clipboard: ' + err.message);
            });
        }

        function downloadCsvJsonOutput() {
            const direction = document.querySelector('input[name="csv-json-direction"]:checked').value;
            const output = document.getElementById('csv-json-output').value;
            
            const extension = direction === 'csv-to-json' ? 'json' : 'csv';
            const mimeType = direction === 'csv-to-json' ? 'application/json' : 'text/csv';
            
            const blob = new Blob([output], { type: mimeType });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            const timestamp = new Date().toISOString().split('T')[0];
            a.download = `converted-data-${timestamp}.${extension}`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        function showCsvJsonError(message) {
            document.getElementById('csv-json-error-message').textContent = message;
            document.getElementById('csv-json-error').classList.remove('hidden');
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            // File upload handler
            const fileInput = document.getElementById('csv-json-file-input');
            if (fileInput) {
                fileInput.addEventListener('change', (e) => {
                    if (e.target.files.length > 0) {
                        handleCsvJsonFileUpload(e.target.files[0]);
                    }
                });
            }

            // Input character counter
            const textInput = document.getElementById('csv-json-input');
            if (textInput) {
                textInput.addEventListener('input', (e) => {
                    document.getElementById('csv-json-input-chars').textContent = e.target.value.length;
                });
            }
        });
    </script>
</body>
</html>

