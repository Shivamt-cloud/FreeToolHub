<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>Regular Expression Tester - FreeToolHub</title>
    <meta name="description" content="Test and debug regex patterns with flags, highlighting, pattern library, statistics, and copy/download.">
    <meta property="og:title" content="Regular Expression Tester - FreeToolHub">
    <meta property="og:description" content="Test and debug regex patterns with highlighting and pattern library">
    <meta property="og:url" content="https://freetoolhub.in/tools/regex-tester.html">
    <meta property="og:type" content="website">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 text-gray-800">
    <!-- Header Container -->
    <div id="app-header"></div>

    <main class="min-h-screen pb-16" style="padding-top: 6rem;">
        <style>
            @media (min-width: 1024px) {
                main { padding-top: 8.5rem !important; }
            }
        </style>
        <div class="max-w-7xl mx-auto px-6 py-8">
            <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-8">
                <div>
                    <h1 class="text-4xl md:text-5xl font-bold text-gray-800 mb-2">üß™ Regular Expression Tester</h1>
                    <p class="text-gray-600 text-lg">Test and debug regex patterns with highlighting and pattern library</p>
                </div>
                <button onclick="shareTool()" class="mt-4 md:mt-0 bg-gradient-to-r from-indigo-500 to-purple-600 text-white px-6 py-3 rounded-lg hover:from-indigo-600 hover:to-purple-700 transition-all duration-300 flex items-center gap-2 shadow-lg">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.885 12.938 9 12.482 9 12c0-.482-.115-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"></path></svg>
                    Share Tool
                </button>
            </div>

            <nav class="mb-6 text-sm">
                <a href="/" class="text-blue-600 hover:text-blue-800">Home</a>
                <span class="mx-2 text-gray-400">/</span>
                <a href="/#tools" class="text-blue-600 hover:text-blue-800">Tools</a>
                <span class="mx-2 text-gray-400">/</span>
                <span class="text-gray-600">Regex Tester</span>
            </nav>

            <div class="bg-white rounded-2xl shadow-xl p-6 md:p-8">
                <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
                    <div class="lg:col-span-3">
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                            <div class="space-y-6">
                                <div>
                                    <label class="block text-lg font-semibold text-gray-700 mb-3">Pattern</label>
                                    <div class="relative">
                                        <div class="absolute left-0 top-0 bottom-0 w-8 bg-gray-100 border border-gray-300 rounded-l-xl flex flex-col items-center text-xs text-gray-500 font-mono overflow-hidden" id="regex-pattern-lines" style="z-index: 1;"></div>
                                        <textarea id="regex-pattern" placeholder="Enter your regex pattern..." class="w-full h-32 pl-10 pr-4 py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent font-mono text-sm resize-none" style="font-family: 'Courier New', monospace; line-height: 1.5;" oninput="updateRegexPatternLineNumbers()" onscroll="syncRegexPatternScroll()" onpaste="setTimeout(updateRegexPatternLineNumbers, 10)"></textarea>
                                    </div>
                                </div>

                                <div>
                                    <label class="block text-lg font-semibold text-gray-700 mb-3">Test Text <span class="text-sm text-gray-500">(optional for validate/explain)</span></label>
                                    <div class="relative">
                                        <div class="absolute left-0 top-0 bottom-0 w-8 bg-gray-100 border border-gray-300 rounded-l-xl flex flex-col items-center text-xs text-gray-500 font-mono overflow-hidden" id="regex-text-lines" style="z-index: 1;"></div>
                                        <textarea id="regex-text" placeholder="Enter text to test against the pattern..." class="w-full h-64 pl-10 pr-4 py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent font-mono text-sm resize-none" style="font-family: 'Courier New', monospace; line-height: 1.5;" oninput="updateRegexTextLineNumbers()" onscroll="syncRegexTextScroll()" onpaste="setTimeout(updateRegexTextLineNumbers, 10)"></textarea>
                                    </div>
                                </div>

                                <div>
                                    <label class="block text-lg font-semibold text-gray-700 mb-3">Flags</label>
                                    <div class="grid grid-cols-3 gap-2">
                                        <div class="flex items-center"><input type="checkbox" id="flag-g" class="mr-2"><label for="flag-g" class="text-gray-700 text-sm">Global (g)</label></div>
                                        <div class="flex items-center"><input type="checkbox" id="flag-i" class="mr-2"><label for="flag-i" class="text-gray-700 text-sm">Case Insensitive (i)</label></div>
                                        <div class="flex items-center"><input type="checkbox" id="flag-m" class="mr-2"><label for="flag-m" class="text-gray-700 text-sm">Multiline (m)</label></div>
                                        <div class="flex items-center"><input type="checkbox" id="flag-s" class="mr-2"><label for="flag-s" class="text-gray-700 text-sm">Dot All (s)</label></div>
                                        <div class="flex items-center"><input type="checkbox" id="flag-u" class="mr-2"><label for="flag-u" class="text-gray-700 text-sm">Unicode (u)</label></div>
                                        <div class="flex items-center"><input type="checkbox" id="flag-y" class="mr-2"><label for="flag-y" class="text-gray-700 text-sm">Sticky (y)</label></div>
                                    </div>
                                </div>

                                <div>
                                    <label class="block text-lg font-semibold text-gray-700 mb-3">Pattern Library</label>
                                    <select id="pattern-library" class="w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent" onchange="loadPatternFromLibrary()">
                                        <option value="">Select a pattern from library...</option>
                                    </select>
                                </div>

                                <div class="grid grid-cols-2 gap-3">
                                    <button onclick="testRegex()" class="bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-3 px-4 rounded-xl transition-all duration-300 transform hover:scale-105">Test Pattern <span class="text-xs">(needs text)</span></button>
                                    <button onclick="validateRegex()" class="bg-purple-500 hover:bg-purple-600 text-white font-bold py-3 px-4 rounded-xl transition-all duration-300 transform hover:scale-105">Validate Pattern</button>
                                    <button onclick="explainRegex()" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-4 rounded-xl transition-all duration-300 transform hover:scale-105">Explain Pattern</button>
                                    <button onclick="getStats()" class="bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-4 rounded-xl transition-all duration-300 transform hover:scale-105">Get Statistics <span class="text-xs">(needs text)</span></button>
                                    <button onclick="highlightMatches()" class="bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-3 px-4 rounded-xl transition-all duration-300 transform hover:scale-105">Highlight Matches <span class="text-xs">(needs text)</span></button>
                                    <button onclick="clearRegex()" class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-4 rounded-xl transition-all duration-300 transform hover:scale-105">Clear All</button>
                                </div>
                            </div>

                            <div class="space-y-6">
                                <div>
                                    <label class="block text-lg font-semibold text-gray-700 mb-3">Results</label>
                                    <div class="relative">
                                        <div class="absolute left-0 top-0 bottom-0 w-8 bg-gray-100 border border-gray-300 rounded-l-xl flex flex-col items-center text-xs text-gray-500 font-mono overflow-hidden" id="regex-results-lines" style="z-index: 1;"></div>
                                        <div id="regex-results" class="w-full h-64 pl-10 pr-4 py-4 border border-gray-300 rounded-xl bg-gray-50 font-mono text-sm overflow-y-auto" style="font-family: 'Courier New', monospace; line-height: 1.5;"></div>
                                    </div>
                                </div>

                                <div class="flex space-x-3">
                                    <button onclick="copyRegexResults()" class="bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-2 px-4 rounded-lg transition-all duration-300">Copy Results</button>
                                    <button onclick="downloadRegexResults()" class="bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-4 rounded-lg transition-all duration-300">Download</button>
                                </div>
                            </div>
                        </div>

                        <div class="mt-8 space-y-6">
                            <div id="regex-test-results" class="hidden">
                                <div class="bg-blue-50 rounded-xl p-6 border border-blue-200">
                                    <h4 class="text-lg font-bold mb-4 text-blue-800">Test Results</h4>
                                    <div id="regex-test-content" class="space-y-3"></div>
                                </div>
                            </div>
                            <div id="regex-validation-results" class="hidden">
                                <div class="bg-green-50 rounded-xl p-6 border border-green-200">
                                    <h4 class="text-lg font-bold mb-4 text-green-800">Validation Results</h4>
                                    <div id="regex-validation-content" class="space-y-3"></div>
                                </div>
                            </div>
                            <div id="regex-explanation-results" class="hidden">
                                <div class="bg-purple-50 rounded-xl p-6 border border-purple-200">
                                    <h4 class="text-lg font-bold mb-4 text-purple-800">Pattern Explanation</h4>
                                    <div id="regex-explanation-content" class="space-y-3"></div>
                                </div>
                            </div>
                            <div id="regex-stats-results" class="hidden">
                                <div class="bg-yellow-50 rounded-xl p-6 border border-yellow-200">
                                    <h4 class="text-lg font-bold mb-4 text-yellow-800">Statistics</h4>
                                    <div id="regex-stats-content" class="space-y-3"></div>
                                </div>
                            </div>
                            <div id="regex-error-display" class="hidden">
                                <div class="bg-red-50 rounded-xl p-6 border border-red-200">
                                    <h4 class="text-lg font-bold mb-4 text-red-800">Error Details</h4>
                                    <div id="regex-error-content" class="space-y-3"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="lg:col-span-1 hidden lg:block">
                        <div class="bg-gradient-to-br from-purple-50 to-blue-50 rounded-xl p-6 border-2 border-purple-200 shadow-lg h-fit sticky top-28">
                            <div class="flex items-center justify-between mb-5">
                                <h4 class="text-xl font-bold text-gray-800">‚ú® Explore Tools</h4>
                                <div class="flex items-center space-x-1">
                                    <div class="w-2.5 h-2.5 bg-purple-500 rounded-full animate-pulse"></div>
                                    <span class="text-xs text-gray-500 font-medium">Live</span>
                                </div>
                            </div>

                            <div id="tool-suggestion-card" class="bg-white rounded-xl p-6 shadow-lg transition-all duration-500 fade-in">
                                <div id="tool-icon" class="text-6xl mb-4 text-center">üßÆ</div>
                                <h5 id="tool-name" class="text-2xl font-bold text-gray-800 mb-3 text-center">Loading...</h5>
                                <p id="tool-description" class="text-base text-gray-600 mb-6 text-center leading-relaxed">Discover amazing tools</p>
                                <button id="tool-checkout-btn" onclick="launchSuggestedTool()" class="w-full bg-gradient-to-r from-purple-500 to-blue-600 text-white font-bold py-3.5 px-6 rounded-xl hover:from-purple-600 hover:to-blue-700 transition-all duration-300 transform hover:scale-105 shadow-lg flex items-center justify-center gap-2 text-lg">
                                    <span>Check it out</span>
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path></svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <div id="app-footer"></div>

    <script src="/js/common-functions.js"></script>
    <script src="/js/widgets.js"></script>
    <script src="/js/components/HeaderLoader.js"></script>
    <script src="/js/components/FooterLoader.js"></script>
    <script src="/js/components/ShareButton.js"></script>
    <script src="/js/widgets-init.js"></script>

    <script src="/src/js/RegexTester.js?v=1&t=1726745000"></script>

    <script>
        let regexTester = null;

        function initializeRegexTester() {
            try {
                if (typeof RegexTester !== 'undefined') {
                    regexTester = new RegexTester();
                    console.log('‚úÖ Regex Tester initialized successfully');
                    loadPatternLibrary();
                    updateRegexPatternLineNumbers();
                    updateRegexTextLineNumbers();
                    updateRegexResultsLineNumbers();
                } else {
                    console.error('‚ùå RegexTester class not found');
                }
            } catch (error) {
                console.error('‚ùå Regex Tester initialization failed:', error);
            }
        }

        function updateRegexPatternLineNumbers() {
            const textarea = document.getElementById('regex-pattern');
            const linesDiv = document.getElementById('regex-pattern-lines');
            const content = textarea.value;
            const lines = content.split('\n');
            let lineCount = lines.length;
            if (content.trim() === '') lineCount = 1;
            let lineNumbers = '';
            for (let i = 1; i <= lineCount; i++) lineNumbers += `<div class="text-center text-xs" style="height: 24px; line-height: 24px; display: flex; align-items: center; justify-content: center;">${i}</div>`;
            linesDiv.innerHTML = lineNumbers;
        }
        function updateRegexTextLineNumbers() {
            const textarea = document.getElementById('regex-text');
            const linesDiv = document.getElementById('regex-text-lines');
            const content = textarea.value;
            const lines = content.split('\n');
            let lineCount = lines.length;
            if (content.trim() === '') lineCount = 1;
            let lineNumbers = '';
            for (let i = 1; i <= lineCount; i++) lineNumbers += `<div class="text-center text-xs" style="height: 24px; line-height: 24px; display: flex; align-items: center; justify-content: center;">${i}</div>`;
            linesDiv.innerHTML = lineNumbers;
        }
        function updateRegexResultsLineNumbers() {
            const resultsDiv = document.getElementById('regex-results');
            const linesDiv = document.getElementById('regex-results-lines');
            const content = resultsDiv.innerHTML;
            const lines = content.split('\n');
            let lineCount = lines.length;
            if (content.trim() === '') lineCount = 1;
            let lineNumbers = '';
            for (let i = 1; i <= lineCount; i++) lineNumbers += `<div class="text-center text-xs" style="height: 24px; line-height: 24px; display: flex; align-items: center; justify-content: center;">${i}</div>`;
            linesDiv.innerHTML = lineNumbers;
        }
        function syncRegexPatternScroll() { const t = document.getElementById('regex-pattern'); document.getElementById('regex-pattern-lines').scrollTop = t.scrollTop; }
        function syncRegexTextScroll() { const t = document.getElementById('regex-text'); document.getElementById('regex-text-lines').scrollTop = t.scrollTop; }

        function loadPatternLibrary() {
            if (!regexTester) return;
            const select = document.getElementById('pattern-library');
            const library = regexTester.getPatternLibrary();
            select.innerHTML = '<option value="">Select a pattern from library...</option>';
            for (const [name, pattern] of Object.entries(library)) {
                const option = document.createElement('option');
                option.value = name; option.textContent = name; select.appendChild(option);
            }
        }
        function loadPatternFromLibrary() {
            const select = document.getElementById('pattern-library');
            const selected = select.value; if (!selected || !regexTester) return;
            const library = regexTester.getPatternLibrary();
            const pattern = library[selected];
            if (pattern) { document.getElementById('regex-pattern').value = pattern.source || pattern; updateRegexPatternLineNumbers(); }
        }
        function getSelectedFlags() {
            const flags = []; const ids = ['flag-g','flag-i','flag-m','flag-s','flag-u','flag-y'];
            for (const id of ids) if (document.getElementById(id).checked) flags.push(id.replace('flag-',''));
            return flags;
        }
        function testRegex() {
            if (!regexTester) { alert('Regex Tester not initialized.'); return; }
            const pattern = document.getElementById('regex-pattern').value.trim();
            const text = document.getElementById('regex-text').value.trim();
            if (!pattern) return alert('Please enter a regex pattern.');
            if (!text) return alert('Please enter text to test.');
            const flags = getSelectedFlags();
            const result = regexTester.testRegex(pattern, text, flags);
            if (result.success) { displayTestResults(result); } else { hideAllRegexResults(); showRegexErrorResults(result); }
        }
        function validateRegex() {
            if (!regexTester) { alert('Regex Tester not initialized.'); return; }
            const pattern = document.getElementById('regex-pattern').value.trim();
            if (!pattern) return alert('Please enter a regex pattern.');
            const flags = getSelectedFlags();
            const result = regexTester.validateRegex(pattern, flags);
            if (result.success && result.isValid) { hideAllRegexResults(); showRegexValidationResults(result); } else { hideAllRegexResults(); showRegexErrorResults(result); }
        }
        function explainRegex() {
            if (!regexTester) { alert('Regex Tester not initialized.'); return; }
            const pattern = document.getElementById('regex-pattern').value.trim(); if (!pattern) return alert('Please enter a regex pattern.');
            const result = regexTester.explainRegex(pattern);
            if (result.success) { hideAllRegexResults(); showRegexExplanationResults(result); } else { hideAllRegexResults(); showRegexErrorResults(result); }
        }
        function getStats() {
            if (!regexTester) { alert('Regex Tester not initialized.'); return; }
            const pattern = document.getElementById('regex-pattern').value.trim();
            const text = document.getElementById('regex-text').value.trim();
            if (!pattern) return alert('Please enter a regex pattern.');
            if (!text) return alert('Please enter text to analyze.');
            const result = regexTester.getRegexStats(pattern, text);
            if (result.success) { hideAllRegexResults(); showRegexStatsResults(result); } else { hideAllRegexResults(); showRegexErrorResults(result); }
        }
        function highlightMatches() {
            if (!regexTester) { alert('Regex Tester not initialized.'); return; }
            const pattern = document.getElementById('regex-pattern').value.trim();
            const text = document.getElementById('regex-text').value.trim();
            if (!pattern) return alert('Please enter a regex pattern.');
            if (!text) return alert('Please enter text to highlight matches.');
            const flags = getSelectedFlags();
            const result = regexTester.highlightMatches(pattern, text, flags);
            if (result.success) { document.getElementById('regex-results').innerHTML = result.highlighted; updateRegexResultsLineNumbers(); hideAllRegexResults(); showRegexTestResults(result); } else { hideAllRegexResults(); showRegexErrorResults(result); }
        }
        function clearRegex() {
            document.getElementById('regex-pattern').value = '';
            document.getElementById('regex-text').value = '';
            document.getElementById('regex-results').innerHTML = '';
            for (const id of ['flag-g','flag-i','flag-m','flag-s','flag-u','flag-y']) document.getElementById(id).checked = false;
            document.getElementById('regex-pattern-lines').innerHTML = '<div class="text-center text-xs" style="height: 24px; line-height: 24px; display: flex; align-items: center; justify-content: center;">1</div>';
            document.getElementById('regex-text-lines').innerHTML = '<div class="text-center text-xs" style="height: 24px; line-height: 24px; display: flex; align-items: center; justify-content: center;">1</div>';
            document.getElementById('regex-results-lines').innerHTML = '<div class="text-center text-xs" style="height: 24px; line-height: 24px; display: flex; align-items: center; justify-content: center;">1</div>';
            hideAllRegexResults();
        }
        function copyRegexResults() {
            const results = document.getElementById('regex-results').innerHTML; if (!results) return alert('No results to copy.');
            const plain = results.replace(/<[^>]*>/g, ''); navigator.clipboard.writeText(plain).then(()=>alert('Results copied to clipboard!')).catch(()=>alert('Failed to copy to clipboard.'));
        }
        function downloadRegexResults() {
            const results = document.getElementById('regex-results').innerHTML; if (!results) return alert('No results to download.');
            const plain = results.replace(/<[^>]*>/g, ''); const blob = new Blob([plain], { type: 'text/plain' }); const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href = url; a.download = 'regex-results.txt'; document.body.appendChild(a); a.click(); document.body.removeChild(a); URL.revokeObjectURL(url);
        }
        function displayTestResults(result) {
            const resultsDiv = document.getElementById('regex-results'); let html = '';
            if (result.isMatch) {
                html += `<div class="text-green-600 font-bold mb-2">‚úÖ Pattern matches!</div>`;
                html += `<div class="text-sm text-gray-600 mb-4">Found ${result.matchCount} match(es)</div>`;
                if (result.matches.length > 0) { html += `<div class="space-y-2">`; result.matches.forEach((m,i)=>{ html += `<div class="bg-yellow-50 p-2 rounded border">`; html += `<div class="font-bold text-sm">Match ${i+1}:</div>`; html += `<div class="font-mono text-sm">"${m.match}"</div>`; html += `<div class="text-xs text-gray-500">Position: ${m.index}</div>`; if (m.groups && m.groups.length>0) html += `<div class="text-xs text-gray-500">Groups: ${m.groups.join(', ')}</div>`; html += `</div>`; }); html += `</div>`; }
            } else { html += `<div class="text-red-600 font-bold mb-2">‚ùå No matches found</div>`; }
            resultsDiv.innerHTML = html; updateRegexResultsLineNumbers(); hideAllRegexResults(); showRegexTestResults(result);
        }
        function showRegexTestResults(result) {
            const resultsDiv = document.getElementById('regex-test-results'); const contentDiv = document.getElementById('regex-test-content');
            let html = `
                <div class="flex items-center text-blue-600 mb-2"> <span class="text-2xl mr-2">${result.isMatch ? '‚úÖ' : '‚ùå'}</span> <span class="font-bold">Test Results</span> </div>
                <div class="text-sm text-gray-600 space-y-3">
                    <div class="grid grid-cols-2 gap-4">
                        <div class="bg-white p-3 rounded-lg border"><div class="font-bold text-gray-700">Pattern</div><div class="text-blue-600 font-mono text-xs">${result.pattern}</div></div>
                        <div class="bg-white p-3 rounded-lg border"><div class="font-bold text-gray-700">Flags</div><div class="text-green-600">${result.flagString || 'none'}</div></div>
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div class="bg-white p-3 rounded-lg border"><div class="font-bold text-gray-700">Match Count</div><div class="text-purple-600">${result.matchCount}</div></div>
                        <div class="bg-white p-3 rounded-lg border"><div class="font-bold text-gray-700">Result</div><div class="text-${result.isMatch ? 'green' : 'red'}-600 font-bold">${result.isMatch ? 'Match Found' : 'No Match'}</div></div>
                    </div>`;
            if (result.firstMatch) { html += `<div class="bg-white p-3 rounded-lg border"><div class="font-bold text-gray-700">First Match</div><div class="text-orange-600 font-mono text-sm">"${result.firstMatch[0]}"</div></div>`; }
            html += `</div>`; contentDiv.innerHTML = html; resultsDiv.classList.remove('hidden');
        }
        function showRegexValidationResults(result) {
            const resultsDiv = document.getElementById('regex-validation-results'); const contentDiv = document.getElementById('regex-validation-content');
            let html = `
                <div class="flex items-center text-green-600 mb-2"><span class="text-2xl mr-2">‚úÖ</span><span class="font-bold">Valid Pattern</span></div>
                <div class="text-sm text-gray-600 space-y-3">
                    <div class="grid grid-cols-2 gap-4">
                        <div class="bg-white p-3 rounded-lg border"><div class="font-bold text-gray-700">Pattern</div><div class="text-blue-600 font-mono text-xs">${result.pattern}</div></div>
                        <div class="bg-white p-3 rounded-lg border"><div class="font-bold text-gray-700">Flags</div><div class="text-green-600">${result.flagString || 'none'}</div></div>
                    </div>
                    <div class="bg-white p-3 rounded-lg border"><div class="font-bold text-gray-700">Source</div><div class="text-purple-600 font-mono text-sm">${result.source}</div></div>
                </div>`;
            contentDiv.innerHTML = html; resultsDiv.classList.remove('hidden');
        }
        function showRegexExplanationResults(result) {
            const resultsDiv = document.getElementById('regex-explanation-results'); const contentDiv = document.getElementById('regex-explanation-content');
            let html = '';
            if (result.explanation && result.explanation.length) {
                html += '<div class="space-y-2">';
                result.explanation.forEach(item=>{ html += `<div class="bg-white p-3 rounded-lg border"><div class="font-bold text-gray-700">${item.symbol} ‚Äî ${item.meaning}</div><div class="text-sm text-gray-600">${item.description}</div></div>`; });
                html += '</div>';
            } else { html = '<div class="text-gray-600">No detailed explanation available.</div>'; }
            contentDiv.innerHTML = html; resultsDiv.classList.remove('hidden');
        }
        function showRegexStatsResults(result) {
            const resultsDiv = document.getElementById('regex-stats-results'); const contentDiv = document.getElementById('regex-stats-content');
            let html = `
                <div class="flex items-center text-yellow-600 mb-2"><span class="text-2xl mr-2">üìä</span><span class="font-bold">Statistics</span></div>
                <div class="text-sm text-gray-600 space-y-3">
                    <div class="grid grid-cols-2 gap-4">
                        <div class="bg-white p-3 rounded-lg border"><div class="font-bold text-gray-700">Matches</div><div class="text-blue-600">${result.matchCount}</div></div>
                        <div class="bg-white p-3 rounded-lg border"><div class="font-bold text-gray-700">Unique Matches</div><div class="text-green-600">${result.uniqueCount}</div></div>
                    </div>
                </div>`;
            contentDiv.innerHTML = html; resultsDiv.classList.remove('hidden');
        }
        function showRegexErrorResults(result) {
            const resultsDiv = document.getElementById('regex-error-display'); const contentDiv = document.getElementById('regex-error-content');
            let html = `
                <div class="flex items-center text-red-600 mb-2"><span class="text-2xl mr-2">‚ùå</span><span class="font-bold">Error</span></div>
                <div class="text-sm text-gray-600 space-y-3"><div><div class="font-bold mb-1">Error Message:</div><div class="bg-red-50 p-3 rounded border-l-4 border-red-400 font-mono text-sm">${result.error || 'Unknown error occurred'}</div></div></div>`;
            contentDiv.innerHTML = html; resultsDiv.classList.remove('hidden');
        }
        function hideAllRegexResults() {
            document.getElementById('regex-test-results').classList.add('hidden');
            document.getElementById('regex-validation-results').classList.add('hidden');
            document.getElementById('regex-explanation-results').classList.add('hidden');
            document.getElementById('regex-stats-results').classList.add('hidden');
            document.getElementById('regex-error-display').classList.add('hidden');
        }
        document.addEventListener('DOMContentLoaded', () => { setTimeout(initializeRegexTester, 500); });
    </script>

    <script>
        const availableTools = [
            { icon: 'üßÆ', name: 'Smart Calculator', description: 'Advanced calculator with scientific functions', pageUrl: '/tools/calculator.html' },
            { icon: '‚è∞', name: 'Study Timer', description: 'Pomodoro technique with focus sessions', pageUrl: '/tools/study-timer.html' },
            { icon: 'üìù', name: 'Note Taker', description: 'Advanced text summarization & notes', pageUrl: '/tools/note-taker.html' },
            { icon: 'üßÆ', name: 'Math Solver', description: 'Step-by-step math problem solving', pageUrl: '/tools/math-solver.html' },
            { icon: 'üìä', name: 'Grade Calculator', description: 'GPA tracking & academic analysis', pageUrl: '/tools/grade-calculator.html' },
            { icon: 'üìñ', name: 'Citation Generator', description: 'Multiple citation formats & styles', pageUrl: '/tools/citation-generator.html' },
            { icon: 'üéØ', name: 'Study Planner', description: 'Study scheduling & time management', pageUrl: '/tools/study-planner.html' },
            { icon: 'üìö', name: 'Flashcard Generator', description: 'Spaced repetition learning cards', pageUrl: '/tools/flashcard-generator.html' },
            { icon: 'üìà', name: 'Progress Tracker', description: 'Academic progress & analytics', pageUrl: '/tools/progress-tracker.html' },
            { icon: 'üéÇ', name: 'Age Calculator', description: 'Precise age & date calculations', pageUrl: '/tools/age-calculator.html' },
            { icon: '‚öñÔ∏è', name: 'BMI Calculator', description: 'Health analysis & recommendations', pageUrl: '/tools/bmi-calculator.html' },
            { icon: 'üè¶', name: 'Loan Calculator', description: 'Professional loan calculation & analysis', pageUrl: '/tools/loan-calculator.html' },
            { icon: 'üíº', name: 'Investment Calculator', description: 'Investment returns & projections', pageUrl: '/tools/investment-calculator.html' },
            { icon: 'üí∞', name: 'Tax Calculator', description: 'Tax calculation & planning', pageUrl: '/tools/tax-calculator.html' },
            { icon: 'üìä', name: 'Business Metrics', description: 'Business performance analytics', pageUrl: '/tools/business-metrics.html' },
            { icon: 'üí±', name: 'Currency Converter', description: 'Real-time currency conversion', pageUrl: '/tools/currency-converter.html' },
            { icon: 'üè†', name: 'Retirement Planner', description: 'Retirement savings calculator', pageUrl: '/tools/retirement-calculator.html' },
            { icon: 'üè°', name: 'Mortgage Calculator', description: 'Mortgage payment calculations', pageUrl: '/tools/mortgage-calculator.html' },
            { icon: 'üí≥', name: 'Budget Planner', description: 'Personal budget planning tool', pageUrl: '/tools/budget-planner.html' },
            { icon: 'üíµ', name: 'Salary Calculator', description: 'Salary & tax calculations', pageUrl: '/tools/salary-calculator.html' },
            { icon: 'üîß', name: 'JSON Formatter', description: 'Format & validate JSON data', pageUrl: '/tools/json-formatter.html' },
            { icon: 'üìÑ', name: 'XML Formatter', description: 'Format & validate XML data', pageUrl: '/tools/xml-formatter.html' },
            { icon: 'üîê', name: 'Base64 Encoder', description: 'Encode & decode Base64 data', pageUrl: '/tools/base64-encoder.html' },
            { icon: 'üîê', name: 'Hash Generator', description: 'Generate multiple hash types', pageUrl: '/tools/hash-generator.html' },
            { icon: 'üåê', name: 'URL Encoder', description: 'Encode & decode URLs', pageUrl: '/tools/url-encoder.html' },
            { icon: 'üõ†Ô∏è', name: 'CSS/JS Minifier', description: 'Minify CSS & JavaScript code', modalId: 'css-js-minifier-modal' },
            { icon: 'üé®', name: 'Color Palette', description: 'Generate beautiful color palettes', modalId: 'color-palette-modal' },
            { icon: 'üìù', name: 'Lorem Ipsum', description: 'Generate Lorem Ipsum text', modalId: 'lorem-ipsum-modal' },
            { icon: 'üïê', name: 'Timestamp Converter', description: 'Convert timestamps & dates', modalId: 'timestamp-converter-modal' },
            { icon: 'üîì', name: 'PDF Password Remover', description: 'Remove password from PDFs', modalId: 'pdf-password-remover-modal' },
            { icon: 'üìÑ', name: 'PDF Merger', description: 'Combine multiple PDFs', modalId: 'pdf-merger-modal' },
            { icon: '‚úÇÔ∏è', name: 'PDF Splitter', description: 'Split PDFs into separate pages', modalId: 'pdf-splitter-modal' },
            { icon: 'üîí', name: 'PDF Encryptor', description: 'Add password to PDFs', modalId: 'pdf-encryptor-modal' },
            { icon: 'üñºÔ∏è', name: 'PDF to Images', description: 'Convert PDF pages to images', modalId: 'pdf-to-images-modal' },
            { icon: 'üì∏', name: 'Image to PDF', description: 'Convert images to PDF documents', modalId: 'image-to-pdf-modal' },
            { icon: 'üìè', name: 'Image Compressor', description: 'Reduce image file size', modalId: 'image-compressor-modal' },
            { icon: 'üé®', name: 'Image Converter', description: 'Convert between image formats', modalId: 'image-converter-modal' },
            { icon: 'üìê', name: 'Image Resizer', description: 'Resize images to any dimensions', modalId: 'image-resizer-modal' },
            { icon: '‚úçÔ∏è', name: 'Signature Generator', description: 'Create digital signatures', modalId: 'signature-generator-modal' },
            { icon: 'üìä', name: 'CSV to JSON', description: 'Convert CSV to JSON format', modalId: 'csv-json-converter-modal' },
            { icon: '‚ö°', name: 'Internet Speed Test', description: 'Test your download, upload speed & ping', modalId: 'internet-speed-test-modal', url: '/tools/internet-speed-test.html' }
        ];
        let currentToolIndex = -1; let refreshInterval = null;
        function getRandomTool(){ let i; do { i = Math.floor(Math.random()*availableTools.length); } while (i===currentToolIndex && availableTools.length>1); currentToolIndex=i; return availableTools[i]; }
        function updateToolSuggestion(){ const t=getRandomTool(); const card=document.getElementById('tool-suggestion-card'); const i=document.getElementById('tool-icon'); const n=document.getElementById('tool-name'); const d=document.getElementById('tool-description'); const b=document.getElementById('tool-checkout-btn'); if(!card||!i||!n||!d||!b) return; b.dataset.modalId=t.modalId||''; b.dataset.pageUrl=t.pageUrl||''; card.style.opacity='0'; card.style.transform='translateY(-10px)'; setTimeout(()=>{ i.textContent=t.icon; n.textContent=t.name; d.textContent=t.description; card.style.opacity='1'; card.style.transform='translateY(0)'; },300); }
        function launchSuggestedTool(){ const b=document.getElementById('tool-checkout-btn'); if(!b) return; const m=b.dataset.modalId; const p=b.dataset.pageUrl; if(p){ window.location.href=p; } else if(m && typeof openModal==='function'){ window.location.href=`/#${m}`; } else { window.location.href='/#tools'; } }
        function initToolSuggestions(){ updateToolSuggestion(); refreshInterval=setInterval(updateToolSuggestion,10000); }
        document.addEventListener('DOMContentLoaded',()=>{ setTimeout(initToolSuggestions,1000); });
        window.addEventListener('beforeunload',()=>{ if(refreshInterval) clearInterval(refreshInterval); });
    </script>
    <style>
        @keyframes fadeIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
        .fade-in { animation: fadeIn 0.5s ease-in-out; }
        #tool-suggestion-card { transition: opacity 0.3s ease, transform 0.3s ease; }
    </style>
</body>
</html>

